# 内存管理

## 内存中的五大区域
![](/assets/内存管理1.png)
- 栈区(stack)：存放函数的参数值、局部变量的值等，由编译器自动分配释放，通常在函数执行结束后就释放了，其操作方式类似数据结构中的栈。栈内存分配运算内置于处理器的指令集，效率很高，但是分配的内存容量有限，比如iOS中栈区的大小是2M。
- 堆区(heap)：就是通过new、malloc、realloc分配的内存块，它们的释放编译器不去管，由我们的应用程序去释放。如果应用程序没有释放掉，操作系统会自动回收。分配方式类似于链表。
- 静态区(BSS段)：全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域。程序结束后，由系统释放。
- 常量区(数据段)：常量存储在这里，不允许修改的。
- 代码区：存放函数体的二进制代码。

![](/assets/内存管理2.jpg)

